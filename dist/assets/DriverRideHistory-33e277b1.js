import{r,e as S,f as C,h as H,j as e,Q as f,B as g}from"./index-49db8e2a.js";/* empty css               */function M(j){const{driverId:p}=j,[d,b]=r.useState([]),[n,y]=r.useState(),[i,u]=r.useState(!0);r.useEffect(()=>{k()},[]);const h="bg-gray-300 cursor-pointer  text-gray-700  py-2 px-4 rounded-t-lg active:bg-white focus:outline-none focus:ring focus:ring-indigo-300",x="border-gray-400 border-2 cursor-pointer text-gray-700 hover:bg-white py-2 px-4 rounded-t-lg active:bg-white focus:outline-none focus:ring focus:ring-indigo-300",k=async()=>{try{const s=await S.patch(`${C.getDriverRideHistory}?id=${p}`);console.log("response",s),b(s.data.quickRides),y(s.data.scheduleRides)}catch(s){console.log(s),H(s)}},a=d.map(s=>{const t=new Date(s.date);return{month:t.getMonth(),year:t.getFullYear()}}),o={};a==null||a.forEach(s=>{const t=`${s.year}-${s.month}`;o[t]=(o[t]||0)+1});const v=Object.keys(o),R=Object.values(o),l=n==null?void 0:n.map(s=>{const t=new Date(s.date);return{month:t.getMonth(),year:t.getFullYear()}}),c={};l==null||l.forEach(s=>{const t=`${s.year}-${s.month}`;c[t]=(c[t]||0)+1});const w=Object.keys(c),N=Object.values(c),m=[{name:"From",selector:s=>s.pickupLocation},{name:"To",selector:s=>s.dropoffLocation},{name:"Amount",selector:s=>s.price},{name:"Distance",selector:s=>s.distance},{name:"Status",selector:s=>s.status}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-10 w-full lg:w-10/12 lg:ms-32 bg-white p-6 rounded-3xl shadow-2xl justify-center",children:[e.jsxs("div",{className:"border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl mb-4 font-black text-blue",children:"Ride History"}),e.jsxs("ul",{className:"flex",role:"tablist",children:[e.jsx("li",{className:"mr-1",children:e.jsx("p",{onClick:()=>u(!0),className:i?h:x,role:"tab","aria-selected":"true",children:"Quick Rides"})}),e.jsx("li",{className:"mr-1",children:e.jsx("p",{onClick:()=>u(!1),className:i?x:h,role:"tab","aria-selected":"true",children:"Scheduled Rides"})})]})]}),i?e.jsx(r.Suspense,{children:e.jsx(f,{style:{zIndex:"-1"},columns:m,data:d,fixedHeader:!0,highlightOnHover:!0,pagination:!0})}):e.jsx(r.Suspense,{children:n&&e.jsx(f,{style:{zIndex:"-1"},columns:m,data:n,fixedHeader:!0,highlightOnHover:!0,pagination:!0})})]}),e.jsx("div",{className:"flex flex-col md:flex-row w-10/12 mx-auto mt-20 justify-center",children:e.jsx("div",{className:"w-full overflow-hidden rounded-3xl bg-blue-200 shadow-2xl sm:flex justify-center",children:e.jsxs("div",{className:"w-full flex flex-col md:flex-row items-center justify-around",children:[e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-3xl font-black mb-5 text-blue-900",children:"Quick Rides"}),e.jsx(r.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{months:v,userCounts:R})})]}),e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-3xl font-black mb-5 text-blue-900",children:"Scheduled Rides"}),e.jsx(r.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(g,{months:w,userCounts:N})})]})]})})})]})}export{M as default};
