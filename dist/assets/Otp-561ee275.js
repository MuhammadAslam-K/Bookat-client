import{r as d,u as w,c as y,a as N,b as u,d as m,_ as n,j as e}from"./index-20cd5d80.js";/* empty css               */function P(x){const{mobile:c,submitSignUpForm:p}=x,[r,i]=d.useState(300),h=300,f=Math.floor(r/60),a=r%60,s=w({initialValues:{otp:""},validationSchema:y({otp:N().length(6,"Please Enter a valid OTP").required("Please Enter value")}),onSubmit:t=>{b(t)}});d.useEffect(()=>{const t=setInterval(()=>{r>0&&i(o=>o-1)},1e3);return r===0&&clearInterval(t),()=>{clearInterval(t)}},[r]);const g=async()=>{try{i(h);const t={mobile:c};await u.post(m.sendOtp,t)}catch(t){n.error(t.message)}},b=async t=>{try{const o={otp:t.otp,mobile:c},l=await u.post(m.verifyOtp,o);console.log("response",l),l.data.status==401?n.error(l.data.message):(n.success("OTP validated successfully"),p())}catch(o){console.log("error",o),n.error(o.message)}},v="pl-2 outline-none border-b-4 w-full rounded-lg p-2.5 sm:text-sm",j="pl-2 outline-none border-b border-red-400 w-full rounded-lg p-2.5 sm:text-sm";return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full max-w-md overflow-hidden rounded-2xl bg-slate-500 shadow-2xl sm:flex justify-center",children:e.jsx("div",{className:"w-full ",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-2xl text-center text-gray-200",children:"Enter OTP"}),e.jsxs("form",{onClick:s.handleSubmit,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",name:"otp",placeholder:"Enter OTP",required:!0,value:s.values.otp,onChange:s.handleChange,onBlur:s.handleBlur,className:s.touched.otp&&s.errors.otp?j:v}),s.touched.otp&&s.errors.otp&&e.jsx("div",{className:"text-red-500 text-xs",children:s.errors.otp})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-teal-300 dark:focus:ring-teal-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",children:"Submit"})})]}),r>0?e.jsxs("p",{className:"text-center text-gray-200",children:[f,":",a<10?`0${a}`:a," ","minutes"]}):e.jsx("button",{className:"text-blue-500 hover:underline cursor-pointer",onClick:g,children:"Resend OTP"})]})})})})}export{P as default};
